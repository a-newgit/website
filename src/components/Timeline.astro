---
import TimelineEntry from "./TimelineEntry.astro";
import timelineData from "../content/timeline.json";

interface TimelineItem {
  company: string;
  url?: string;
  role: string;
  years: string;
  color?: string;
}

const timeline: TimelineItem[] = timelineData;
---

<section class="timeline-section">
  <span class="section-label">Work experience</span>
  <div class="timeline">
    {
      timeline.map((item) => (
        <TimelineEntry
          company={item.company}
          url={item.url}
          role={item.role}
          years={item.years}
          color={item.color}
        />
      ))
    }
  </div>
</section>

<style>
  .timeline-section {
    padding: var(--space-8) 0;
  }

  .section-label {
    display: block;
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    margin-bottom: var(--space-4);
    font-weight: 400;
  }

  .timeline {
    max-width: var(--content-width);
  }
</style>
